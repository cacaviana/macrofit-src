import{_ as ve}from"../chunks/preload-helper.a4192956.js";import{s as qe,a as T,e as he,v as Se,d as m,c as D,i as V,F as $e,p as Ve,f as k,g as $,h as I,w as S,j as f,y as c,z as se,I as Ae,G as te,u as ne,l as F,x as ie,m as q,n as fe,D as Pe,E as Ne,J as we,Q as ye}from"../chunks/scheduler.322242fb.js";import{S as Oe,i as Ue,t as R,c as me,a as L,g as pe,f as Be,b as U,d as G,m as J,e as Q}from"../chunks/index.d5f86c59.js";import{e as ge}from"../chunks/each.e59479a4.js";import{g as be}from"../chunks/navigation.896eb98e.js";import{C as ke,B as Z}from"../chunks/environment.d04864f2.js";import{I as Ge}from"../chunks/Input.70b19d3a.js";import{M as Je}from"../chunks/Modal.aaac1987.js";import{u as Qe}from"../chunks/authGuard.f24bd116.js";import{M as We}from"../chunks/meals.service.4f5c8e6a.js";function Ce(a,t,e){const r=a.slice();return r[43]=t[e],r}function Ee(a,t,e){const r=a.slice();return r[46]=t[e],r}function Xe(a){let t,e,r,n,u,l,i='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>',s,o,g="Registrar Refeição",p,w,C="Capturar via texto, voz, foto ou código",_,v,h,b,d,x,y,E,M,N,O,le,W,oe,j,P=a[1]&&Ie(a),z=a[0]&&Te(a);d=new ke({props:{class:"mb-8",$$slots:{default:[Ze]},$$scope:{ctx:a}}}),y=new ke({props:{$$slots:{default:[xt]},$$scope:{ctx:a}}}),M=new ke({props:{class:"bg-gradient-to-r from-blue-50 to-purple-50",$$slots:{default:[kt]},$$scope:{ctx:a}}});function de(A){a[40](A)}let ae={title:"Buscar Alimentos",size:"lg",$$slots:{default:[Et]},$$scope:{ctx:a}};return a[15]!==void 0&&(ae.open=a[15]),O=new Je({props:ae}),Ve.push(()=>Be(O,"open",de)),{c(){t=k("div"),e=k("header"),r=k("div"),n=k("div"),u=k("div"),l=k("button"),l.innerHTML=i,s=T(),o=k("h1"),o.textContent=g,p=T(),w=k("p"),w.textContent=C,_=T(),v=k("main"),P&&P.c(),h=T(),z&&z.c(),b=T(),U(d.$$.fragment),x=T(),U(y.$$.fragment),E=T(),U(M.$$.fragment),N=T(),U(O.$$.fragment),this.h()},l(A){t=$(A,"DIV",{class:!0});var H=I(t);e=$(H,"HEADER",{class:!0});var ce=I(e);r=$(ce,"DIV",{class:!0});var ue=I(r);n=$(ue,"DIV",{class:!0});var re=I(n);u=$(re,"DIV",{class:!0});var ee=I(u);l=$(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),S(l)!=="svelte-ghdzdg"&&(l.innerHTML=i),s=D(ee),o=$(ee,"H1",{class:!0,"data-svelte-h":!0}),S(o)!=="svelte-j9sxio"&&(o.textContent=g),ee.forEach(m),p=D(re),w=$(re,"P",{class:!0,"data-svelte-h":!0}),S(w)!=="svelte-1qqi5ts"&&(w.textContent=C),re.forEach(m),ue.forEach(m),ce.forEach(m),_=D(H),v=$(H,"MAIN",{class:!0});var K=I(v);P&&P.l(K),h=D(K),z&&z.l(K),b=D(K),G(d.$$.fragment,K),x=D(K),G(y.$$.fragment,K),E=D(K),G(M.$$.fragment,K),K.forEach(m),H.forEach(m),N=D(A),G(O.$$.fragment,A),this.h()},h(){f(l,"class","text-gray-400 hover:text-gray-600"),f(o,"class","text-xl font-semibold text-gray-900"),f(u,"class","flex items-center space-x-4"),f(w,"class","text-sm text-gray-500"),f(n,"class","flex items-center justify-between h-16"),f(r,"class","max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"),f(e,"class","bg-white shadow-sm border-b"),f(v,"class","max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"),f(t,"class","min-h-screen bg-gray-50")},m(A,H){V(A,t,H),c(t,e),c(e,r),c(r,n),c(n,u),c(u,l),c(u,s),c(u,o),c(n,p),c(n,w),c(t,_),c(t,v),P&&P.m(v,null),c(v,h),z&&z.m(v,null),c(v,b),J(d,v,null),c(v,x),J(y,v,null),c(v,E),J(M,v,null),V(A,N,H),J(O,A,H),W=!0,oe||(j=se(l,"click",a[28]),oe=!0)},p(A,H){A[1]?P?P.p(A,H):(P=Ie(A),P.c(),P.m(v,h)):P&&(P.d(1),P=null),A[0]?z?z.p(A,H):(z=Te(A),z.c(),z.m(v,b)):z&&(z.d(1),z=null);const ce={};H[0]&32|H[1]&262144&&(ce.$$scope={dirty:H,ctx:A}),d.$set(ce);const ue={};H[0]&36828|H[1]&262144&&(ue.$$scope={dirty:H,ctx:A}),y.$set(ue);const re={};H[1]&262144&&(re.$$scope={dirty:H,ctx:A}),M.$set(re);const ee={};H[0]&28672|H[1]&262144&&(ee.$$scope={dirty:H,ctx:A}),!le&&H[0]&32768&&(le=!0,ee.open=A[15],Ae(()=>le=!1)),O.$set(ee)},i(A){W||(L(d.$$.fragment,A),L(y.$$.fragment,A),L(M.$$.fragment,A),L(O.$$.fragment,A),W=!0)},o(A){R(d.$$.fragment,A),R(y.$$.fragment,A),R(M.$$.fragment,A),R(O.$$.fragment,A),W=!1},d(A){A&&(m(t),m(N)),P&&P.d(),z&&z.d(),Q(d),Q(y),Q(M),Q(O,A),oe=!1,j()}}}function Ke(a){let t;return{c(){t=k("div")},l(e){t=$(e,"DIV",{}),I(t).forEach(m)},m(e,r){V(e,t,r)},p:te,i:te,o:te,d(e){e&&m(t)}}}function Ye(a){let t,e='<div class="text-center"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"></div> <p class="text-gray-600">Verificando autenticação...</p></div>';return{c(){t=k("div"),t.innerHTML=e,this.h()},l(r){t=$(r,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-jouxqq"&&(t.innerHTML=e),this.h()},h(){f(t,"class","min-h-screen flex items-center justify-center")},m(r,n){V(r,t,n)},p:te,i:te,o:te,d(r){r&&m(t)}}}function Ie(a){let t,e,r,n,u,l,i;return{c(){t=k("div"),e=k("div"),r=ne("svg"),n=ne("path"),u=T(),l=k("p"),i=F(a[1]),this.h()},l(s){t=$(s,"DIV",{class:!0});var o=I(t);e=$(o,"DIV",{class:!0});var g=I(e);r=ie(g,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var p=I(r);n=ie(p,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(n).forEach(m),p.forEach(m),u=D(g),l=$(g,"P",{class:!0});var w=I(l);i=q(w,a[1]),w.forEach(m),g.forEach(m),o.forEach(m),this.h()},h(){f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","2"),f(n,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),f(r,"class","w-5 h-5 text-green-500 mr-2"),f(r,"fill","none"),f(r,"stroke","currentColor"),f(r,"viewBox","0 0 24 24"),f(l,"class","text-green-800"),f(e,"class","flex items-center"),f(t,"class","mb-6 bg-green-50 border border-green-200 rounded-lg p-4")},m(s,o){V(s,t,o),c(t,e),c(e,r),c(r,n),c(e,u),c(e,l),c(l,i)},p(s,o){o[0]&2&&fe(i,s[1])},d(s){s&&m(t)}}}function Te(a){let t,e,r,n,u,l,i;return{c(){t=k("div"),e=k("div"),r=ne("svg"),n=ne("path"),u=T(),l=k("p"),i=F(a[0]),this.h()},l(s){t=$(s,"DIV",{class:!0});var o=I(t);e=$(o,"DIV",{class:!0});var g=I(e);r=ie(g,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var p=I(r);n=ie(p,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(n).forEach(m),p.forEach(m),u=D(g),l=$(g,"P",{class:!0});var w=I(l);i=q(w,a[0]),w.forEach(m),g.forEach(m),o.forEach(m),this.h()},h(){f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","2"),f(n,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"),f(r,"class","w-5 h-5 text-red-500 mr-2"),f(r,"fill","none"),f(r,"stroke","currentColor"),f(r,"viewBox","0 0 24 24"),f(l,"class","text-red-800"),f(e,"class","flex items-center"),f(t,"class","mb-6 bg-red-50 border border-red-200 rounded-lg p-4")},m(s,o){V(s,t,o),c(t,e),c(e,r),c(r,n),c(e,u),c(e,l),c(l,i)},p(s,o){o[0]&1&&fe(i,s[0])},d(s){s&&m(t)}}}function De(a){let t,e,r=a[46].icon+"",n,u,l,i=a[46].label+"",s,o,g,p,w;function C(){return a[29](a[46])}return{c(){t=k("button"),e=k("div"),n=F(r),u=T(),l=k("div"),s=F(i),o=T(),this.h()},l(_){t=$(_,"BUTTON",{class:!0});var v=I(t);e=$(v,"DIV",{class:!0});var h=I(e);n=q(h,r),h.forEach(m),u=D(v),l=$(v,"DIV",{class:!0});var b=I(l);s=q(b,i),b.forEach(m),o=D(v),v.forEach(m),this.h()},h(){f(e,"class","text-2xl mb-1"),f(l,"class","text-sm font-medium text-gray-900"),f(t,"class",g="p-3 rounded-lg border-2 transition-colors "+(a[5]===a[46].value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"))},m(_,v){V(_,t,v),c(t,e),c(e,n),c(t,u),c(t,l),c(l,s),c(t,o),p||(w=se(t,"click",C),p=!0)},p(_,v){a=_,v[0]&32&&g!==(g="p-3 rounded-lg border-2 transition-colors "+(a[5]===a[46].value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"))&&f(t,"class",g)},d(_){_&&m(t),p=!1,w()}}}function Ze(a){let t,e="Tipo de Refeição",r,n,u=ge(a[20]),l=[];for(let i=0;i<u.length;i+=1)l[i]=De(Ee(a,u,i));return{c(){t=k("h2"),t.textContent=e,r=T(),n=k("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){t=$(i,"H2",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-1iyx3st"&&(t.textContent=e),r=D(i),n=$(i,"DIV",{class:!0});var s=I(n);for(let o=0;o<l.length;o+=1)l[o].l(s);s.forEach(m),this.h()},h(){f(t,"class","text-lg font-semibold text-gray-900 mb-4"),f(n,"class","grid grid-cols-2 md:grid-cols-4 gap-3")},m(i,s){V(i,t,s),V(i,r,s),V(i,n,s);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(n,null)},p(i,s){if(s[0]&1048608){u=ge(i[20]);let o;for(o=0;o<u.length;o+=1){const g=Ee(i,u,o);l[o]?l[o].p(g,s):(l[o]=De(g),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=u.length}},d(i){i&&(m(t),m(r),m(n)),Pe(l,i)}}}function et(a){let t,e,r='<svg class="w-10 h-10 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg>',n,u,l="Escaneie o código de barras",i,s,o="Posicione o código dentro da área de captura",g,p,w,C,_="Funciona com produtos industrializados e alimentos embalados",v;return p=new Z({props:{variant:"primary",size:"lg",$$slots:{default:[lt]},$$scope:{ctx:a}}}),{c(){t=k("div"),e=k("div"),e.innerHTML=r,n=T(),u=k("h3"),u.textContent=l,i=T(),s=k("p"),s.textContent=o,g=T(),U(p.$$.fragment),w=T(),C=k("p"),C.textContent=_,this.h()},l(h){t=$(h,"DIV",{class:!0});var b=I(t);e=$(b,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-ucpono"&&(e.innerHTML=r),n=D(b),u=$(b,"H3",{class:!0,"data-svelte-h":!0}),S(u)!=="svelte-1hgem9d"&&(u.textContent=l),i=D(b),s=$(b,"P",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-zdfw6l"&&(s.textContent=o),g=D(b),G(p.$$.fragment,b),w=D(b),C=$(b,"P",{class:!0,"data-svelte-h":!0}),S(C)!=="svelte-1njytht"&&(C.textContent=_),b.forEach(m),this.h()},h(){f(e,"class","w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4"),f(u,"class","text-lg font-medium text-gray-900 mb-2"),f(s,"class","text-gray-600 mb-6"),f(C,"class","text-xs text-gray-500 mt-4"),f(t,"class","text-center py-8")},m(h,b){V(h,t,b),c(t,e),c(t,n),c(t,u),c(t,i),c(t,s),c(t,g),J(p,t,null),c(t,w),c(t,C),v=!0},p(h,b){const d={};b[1]&262144&&(d.$$scope={dirty:b,ctx:h}),p.$set(d)},i(h){v||(L(p.$$.fragment,h),v=!0)},o(h){R(p.$$.fragment,h),v=!1},d(h){h&&m(t),Q(p)}}}function tt(a){let t,e,r,n;const u=[nt,at,ot],l=[];function i(s,o){return!s[9]&&!s[10]?0:s[9]?1:s[10]?2:-1}return~(e=i(a))&&(r=l[e]=u[e](a)),{c(){t=k("div"),r&&r.c(),this.h()},l(s){t=$(s,"DIV",{class:!0});var o=I(t);r&&r.l(o),o.forEach(m),this.h()},h(){f(t,"class","space-y-6")},m(s,o){V(s,t,o),~e&&l[e].m(t,null),n=!0},p(s,o){let g=e;e=i(s),e===g?~e&&l[e].p(s,o):(r&&(pe(),R(l[g],1,1,()=>{l[g]=null}),me()),~e?(r=l[e],r?r.p(s,o):(r=l[e]=u[e](s),r.c()),L(r,1),r.m(t,null)):r=null)},i(s){n||(L(r),n=!0)},o(s){R(r),n=!1},d(s){s&&m(t),~e&&l[e].d()}}}function rt(a){let t,e,r,n;const u=[ht,dt],l=[];function i(s,o){return s[7]?1:0}return e=i(a),r=l[e]=u[e](a),{c(){t=k("div"),r.c(),this.h()},l(s){t=$(s,"DIV",{class:!0});var o=I(t);r.l(o),o.forEach(m),this.h()},h(){f(t,"class","space-y-6")},m(s,o){V(s,t,o),l[e].m(t,null),n=!0},p(s,o){let g=e;e=i(s),e===g?l[e].p(s,o):(pe(),R(l[g],1,1,()=>{l[g]=null}),me(),r=l[e],r?r.p(s,o):(r=l[e]=u[e](s),r.c()),L(r,1),r.m(t,null))},i(s){n||(L(r),n=!0)},o(s){R(r),n=!1},d(s){s&&m(t),l[e].d()}}}function st(a){let t,e,r,n="Descreva sua refeição",u,l,i,s,o="Seja específico sobre quantidades e ingredientes para uma análise mais precisa",g,p,w,C,_,v,h,b;return w=new Z({props:{variant:"outline",disabled:a[3],$$slots:{default:[bt]},$$scope:{ctx:a}}}),w.$on("click",a[35]),_=new Z({props:{variant:"primary",loading:a[3],disabled:!a[4].trim()||a[3],$$slots:{default:[gt]},$$scope:{ctx:a}}}),_.$on("click",a[21]),{c(){t=k("div"),e=k("div"),r=k("label"),r.textContent=n,u=T(),l=k("textarea"),i=T(),s=k("p"),s.textContent=o,g=T(),p=k("div"),U(w.$$.fragment),C=T(),U(_.$$.fragment),this.h()},l(d){t=$(d,"DIV",{class:!0});var x=I(t);e=$(x,"DIV",{});var y=I(e);r=$(y,"LABEL",{class:!0,"data-svelte-h":!0}),S(r)!=="svelte-1d53drm"&&(r.textContent=n),u=D(y),l=$(y,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),I(l).forEach(m),i=D(y),s=$(y,"P",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-qwg5fy"&&(s.textContent=o),y.forEach(m),g=D(x),p=$(x,"DIV",{class:!0});var E=I(p);G(w.$$.fragment,E),C=D(E),G(_.$$.fragment,E),E.forEach(m),x.forEach(m),this.h()},h(){f(r,"class","block text-sm font-medium text-gray-700 mb-2"),f(l,"placeholder","Ex: 2 ovos mexidos, 1 fatia de pão integral, 1 xícara de café com leite"),f(l,"rows","4"),f(l,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"),l.disabled=a[3],f(s,"class","mt-1 text-xs text-gray-500"),f(p,"class","flex justify-between items-center"),f(t,"class","space-y-6")},m(d,x){V(d,t,x),c(t,e),c(e,r),c(e,u),c(e,l),we(l,a[4]),c(e,i),c(e,s),c(t,g),c(t,p),J(w,p,null),c(p,C),J(_,p,null),v=!0,h||(b=se(l,"input",a[34]),h=!0)},p(d,x){(!v||x[0]&8)&&(l.disabled=d[3]),x[0]&16&&we(l,d[4]);const y={};x[0]&8&&(y.disabled=d[3]),x[1]&262144&&(y.$$scope={dirty:x,ctx:d}),w.$set(y);const E={};x[0]&8&&(E.loading=d[3]),x[0]&24&&(E.disabled=!d[4].trim()||d[3]),x[1]&262144&&(E.$$scope={dirty:x,ctx:d}),_.$set(E)},i(d){v||(L(w.$$.fragment,d),L(_.$$.fragment,d),v=!0)},o(d){R(w.$$.fragment,d),R(_.$$.fragment,d),v=!1},d(d){d&&m(t),Q(w),Q(_),h=!1,b()}}}function lt(a){let t;return{c(){t=F("📊 Iniciar Scanner")},l(e){t=q(e,"📊 Iniciar Scanner")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function ot(a){let t,e,r='<svg class="w-10 h-10 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',n,u,l="Áudio gravado com sucesso!",i,s,o,g=xe(a[11])+"",p,w,C,_,v,h,b;return _=new Z({props:{variant:"outline",disabled:a[3],$$slots:{default:[it]},$$scope:{ctx:a}}}),_.$on("click",a[37]),h=new Z({props:{variant:"primary",loading:a[3],disabled:a[3],$$slots:{default:[ct]},$$scope:{ctx:a}}}),h.$on("click",a[26]),{c(){t=k("div"),e=k("div"),e.innerHTML=r,n=T(),u=k("h3"),u.textContent=l,i=T(),s=k("p"),o=F("Duração: "),p=F(g),w=T(),C=k("div"),U(_.$$.fragment),v=T(),U(h.$$.fragment),this.h()},l(d){t=$(d,"DIV",{class:!0});var x=I(t);e=$(x,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-pe9fkl"&&(e.innerHTML=r),n=D(x),u=$(x,"H3",{class:!0,"data-svelte-h":!0}),S(u)!=="svelte-hgg8iz"&&(u.textContent=l),i=D(x),s=$(x,"P",{class:!0});var y=I(s);o=q(y,"Duração: "),p=q(y,g),y.forEach(m),w=D(x),C=$(x,"DIV",{class:!0});var E=I(C);G(_.$$.fragment,E),v=D(E),G(h.$$.fragment,E),E.forEach(m),x.forEach(m),this.h()},h(){f(e,"class","w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"),f(u,"class","text-lg font-medium text-gray-900 mb-2"),f(s,"class","text-gray-600 mb-6"),f(C,"class","flex justify-center space-x-4"),f(t,"class","text-center py-8")},m(d,x){V(d,t,x),c(t,e),c(t,n),c(t,u),c(t,i),c(t,s),c(s,o),c(s,p),c(t,w),c(t,C),J(_,C,null),c(C,v),J(h,C,null),b=!0},p(d,x){(!b||x[0]&2048)&&g!==(g=xe(d[11])+"")&&fe(p,g);const y={};x[0]&8&&(y.disabled=d[3]),x[1]&262144&&(y.$$scope={dirty:x,ctx:d}),_.$set(y);const E={};x[0]&8&&(E.loading=d[3]),x[0]&8&&(E.disabled=d[3]),x[1]&262144&&(E.$$scope={dirty:x,ctx:d}),h.$set(E)},i(d){b||(L(_.$$.fragment,d),L(h.$$.fragment,d),b=!0)},o(d){R(_.$$.fragment,d),R(h.$$.fragment,d),b=!1},d(d){d&&m(t),Q(_),Q(h)}}}function at(a){let t,e,r='<svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"></path></svg>',n,u,l="Gravando...",i,s,o=xe(a[11])+"",g,p,w,C;return w=new Z({props:{variant:"danger",size:"lg",$$slots:{default:[ut]},$$scope:{ctx:a}}}),w.$on("click",a[25]),{c(){t=k("div"),e=k("div"),e.innerHTML=r,n=T(),u=k("h3"),u.textContent=l,i=T(),s=k("p"),g=F(o),p=T(),U(w.$$.fragment),this.h()},l(_){t=$(_,"DIV",{class:!0});var v=I(t);e=$(v,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-171bm46"&&(e.innerHTML=r),n=D(v),u=$(v,"H3",{class:!0,"data-svelte-h":!0}),S(u)!=="svelte-1fww606"&&(u.textContent=l),i=D(v),s=$(v,"P",{class:!0});var h=I(s);g=q(h,o),h.forEach(m),p=D(v),G(w.$$.fragment,v),v.forEach(m),this.h()},h(){f(e,"class","w-20 h-20 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse"),f(u,"class","text-lg font-medium text-gray-900 mb-2"),f(s,"class","text-2xl font-mono text-red-500 mb-6"),f(t,"class","text-center py-8")},m(_,v){V(_,t,v),c(t,e),c(t,n),c(t,u),c(t,i),c(t,s),c(s,g),c(t,p),J(w,t,null),C=!0},p(_,v){(!C||v[0]&2048)&&o!==(o=xe(_[11])+"")&&fe(g,o);const h={};v[1]&262144&&(h.$$scope={dirty:v,ctx:_}),w.$set(h)},i(_){C||(L(w.$$.fragment,_),C=!0)},o(_){R(w.$$.fragment,_),C=!1},d(_){_&&m(t),Q(w)}}}function nt(a){let t,e,r='<svg class="w-10 h-10 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path></svg>',n,u,l="Fale naturalmente sobre sua refeição",i,s,o='Ex: "Comi dois ovos mexidos com uma fatia de pão integral"',g,p,w,C,_="Máximo 60 segundos",v;return p=new Z({props:{variant:"primary",size:"lg",$$slots:{default:[ft]},$$scope:{ctx:a}}}),p.$on("click",a[24]),{c(){t=k("div"),e=k("div"),e.innerHTML=r,n=T(),u=k("h3"),u.textContent=l,i=T(),s=k("p"),s.textContent=o,g=T(),U(p.$$.fragment),w=T(),C=k("p"),C.textContent=_,this.h()},l(h){t=$(h,"DIV",{class:!0});var b=I(t);e=$(b,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-zymgtd"&&(e.innerHTML=r),n=D(b),u=$(b,"H3",{class:!0,"data-svelte-h":!0}),S(u)!=="svelte-1hvnuk8"&&(u.textContent=l),i=D(b),s=$(b,"P",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-5c8p85"&&(s.textContent=o),g=D(b),G(p.$$.fragment,b),w=D(b),C=$(b,"P",{class:!0,"data-svelte-h":!0}),S(C)!=="svelte-1h92m3w"&&(C.textContent=_),b.forEach(m),this.h()},h(){f(e,"class","w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"),f(u,"class","text-lg font-medium text-gray-900 mb-2"),f(s,"class","text-gray-600 mb-6"),f(C,"class","text-xs text-gray-500 mt-2"),f(t,"class","text-center py-8")},m(h,b){V(h,t,b),c(t,e),c(t,n),c(t,u),c(t,i),c(t,s),c(t,g),J(p,t,null),c(t,w),c(t,C),v=!0},p(h,b){const d={};b[1]&262144&&(d.$$scope={dirty:b,ctx:h}),p.$set(d)},i(h){v||(L(p.$$.fragment,h),v=!0)},o(h){R(p.$$.fragment,h),v=!1},d(h){h&&m(t),Q(p)}}}function it(a){let t;return{c(){t=F("🗑️ Descartar")},l(e){t=q(e,"🗑️ Descartar")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function ct(a){let t;return{c(){t=F("🔍 Processar Áudio")},l(e){t=q(e,"🔍 Processar Áudio")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function ut(a){let t;return{c(){t=F("⏹️ Parar Gravação")},l(e){t=q(e,"⏹️ Parar Gravação")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function ft(a){let t;return{c(){t=F("🎤 Toque para gravar")},l(e){t=q(e,"🎤 Toque para gravar")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function dt(a){let t,e,r,n,u,l,i,s,o,g,p,w="Foto carregada com sucesso",C,_,v,h,b;return _=new Z({props:{variant:"primary",loading:a[8],disabled:a[8],$$slots:{default:[_t]},$$scope:{ctx:a}}}),_.$on("click",a[23]),{c(){t=k("div"),e=k("div"),r=k("img"),u=T(),l=k("button"),i=ne("svg"),s=ne("path"),o=T(),g=k("div"),p=k("p"),p.textContent=w,C=T(),U(_.$$.fragment),this.h()},l(d){t=$(d,"DIV",{class:!0});var x=I(t);e=$(x,"DIV",{class:!0});var y=I(e);r=$(y,"IMG",{src:!0,alt:!0,class:!0}),u=D(y),l=$(y,"BUTTON",{class:!0});var E=I(l);i=ie(E,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var M=I(i);s=ie(M,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(s).forEach(m),M.forEach(m),E.forEach(m),y.forEach(m),o=D(x),g=$(x,"DIV",{class:!0});var N=I(g);p=$(N,"P",{class:!0,"data-svelte-h":!0}),S(p)!=="svelte-1j6xpa1"&&(p.textContent=w),C=D(N),G(_.$$.fragment,N),N.forEach(m),x.forEach(m),this.h()},h(){ye(r.src,n=a[7])||f(r,"src",n),f(r,"alt","Preview da refeição"),f(r,"class","w-full h-64 object-cover rounded-lg"),f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(s,"stroke-width","2"),f(s,"d","M6 18L18 6M6 6l12 12"),f(i,"class","w-4 h-4"),f(i,"fill","none"),f(i,"stroke","currentColor"),f(i,"viewBox","0 0 24 24"),f(l,"class","absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600"),l.disabled=a[8],f(e,"class","relative"),f(p,"class","text-sm text-gray-600"),f(g,"class","flex justify-between items-center"),f(t,"class","space-y-4")},m(d,x){V(d,t,x),c(t,e),c(e,r),c(e,u),c(e,l),c(l,i),c(i,s),c(t,o),c(t,g),c(g,p),c(g,C),J(_,g,null),v=!0,h||(b=se(l,"click",a[36]),h=!0)},p(d,x){(!v||x[0]&128&&!ye(r.src,n=d[7]))&&f(r,"src",n),(!v||x[0]&256)&&(l.disabled=d[8]);const y={};x[0]&256&&(y.loading=d[8]),x[0]&256&&(y.disabled=d[8]),x[0]&256|x[1]&262144&&(y.$$scope={dirty:x,ctx:d}),_.$set(y)},i(d){v||(L(_.$$.fragment,d),v=!0)},o(d){R(_.$$.fragment,d),v=!1},d(d){d&&m(t),Q(_),h=!1,b()}}}function ht(a){let t,e,r,n,u,l="Fotografe seu prato ou rótulo",i,s,o="A IA identificará os alimentos automaticamente",g,p,w,C,_,v,h,b="Suporta JPG, PNG, WebP até 10MB",d,x,y;return _=new Z({props:{variant:"primary",disabled:a[8],$$slots:{default:[vt]},$$scope:{ctx:a}}}),{c(){t=k("div"),e=ne("svg"),r=ne("path"),n=T(),u=k("h3"),u.textContent=l,i=T(),s=k("p"),s.textContent=o,g=T(),p=k("input"),w=T(),C=k("label"),U(_.$$.fragment),v=T(),h=k("p"),h.textContent=b,this.h()},l(E){t=$(E,"DIV",{class:!0});var M=I(t);e=ie(M,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var N=I(e);r=ie(N,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(r).forEach(m),N.forEach(m),n=D(M),u=$(M,"H3",{class:!0,"data-svelte-h":!0}),S(u)!=="svelte-1qz9tpt"&&(u.textContent=l),i=D(M),s=$(M,"P",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-1rd9znw"&&(s.textContent=o),g=D(M),p=$(M,"INPUT",{type:!0,accept:!0,class:!0,id:!0}),w=D(M),C=$(M,"LABEL",{for:!0});var O=I(C);G(_.$$.fragment,O),O.forEach(m),v=D(M),h=$(M,"P",{class:!0,"data-svelte-h":!0}),S(h)!=="svelte-xtx2y3"&&(h.textContent=b),M.forEach(m),this.h()},h(){f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(r,"stroke-width","2"),f(r,"d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"),f(e,"class","w-12 h-12 text-gray-400 mx-auto mb-4"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24"),f(u,"class","text-lg font-medium text-gray-900 mb-2"),f(s,"class","text-gray-600 mb-4"),f(p,"type","file"),f(p,"accept","image/*"),f(p,"class","hidden"),f(p,"id","photo-upload"),p.disabled=a[8],f(C,"for","photo-upload"),f(h,"class","text-xs text-gray-500 mt-2"),f(t,"class","border-2 border-dashed border-gray-300 rounded-lg p-8 text-center")},m(E,M){V(E,t,M),c(t,e),c(e,r),c(t,n),c(t,u),c(t,i),c(t,s),c(t,g),c(t,p),c(t,w),c(t,C),J(_,C,null),c(t,v),c(t,h),d=!0,x||(y=se(p,"change",a[22]),x=!0)},p(E,M){(!d||M[0]&256)&&(p.disabled=E[8]);const N={};M[0]&256&&(N.disabled=E[8]),M[1]&262144&&(N.$$scope={dirty:M,ctx:E}),_.$set(N)},i(E){d||(L(_.$$.fragment,E),d=!0)},o(E){R(_.$$.fragment,E),d=!1},d(E){E&&m(t),Q(_),x=!1,y()}}}function mt(a){let t;return{c(){t=F("🔍 Analisar Foto")},l(e){t=q(e,"🔍 Analisar Foto")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function pt(a){let t;return{c(){t=F("Analisando...")},l(e){t=q(e,"Analisando...")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function _t(a){let t;function e(u,l){return u[8]?pt:mt}let r=e(a),n=r(a);return{c(){n.c(),t=he()},l(u){n.l(u),t=he()},m(u,l){n.m(u,l),V(u,t,l)},p(u,l){r!==(r=e(u))&&(n.d(1),n=r(u),n&&(n.c(),n.m(t.parentNode,t)))},d(u){u&&m(t),n.d(u)}}}function vt(a){let t;return{c(){t=F("📷 Tirar Foto")},l(e){t=q(e,"📷 Tirar Foto")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function bt(a){let t;return{c(){t=F("🔍 Buscar Alimentos")},l(e){t=q(e,"🔍 Buscar Alimentos")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function gt(a){let t;return{c(){t=F("Analisar com IA")},l(e){t=q(e,"Analisar com IA")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function xt(a){let t,e,r,n,u,l,i,s,o,g,p,w,C,_,v,h,b,d,x,y,E,M,N,O;const le=[st,rt,tt,et],W=[];function oe(j,P){return j[2]==="text"?0:j[2]==="photo"?1:j[2]==="voice"?2:j[2]==="barcode"?3:-1}return~(x=oe(a))&&(y=W[x]=le[x](a)),{c(){t=k("div"),e=k("nav"),r=k("button"),n=F("📝 Texto"),l=T(),i=k("button"),s=F("📷 Foto"),g=T(),p=k("button"),w=F("🎤 Voz"),_=T(),v=k("button"),h=F("📊 Código de Barras"),d=T(),y&&y.c(),E=he(),this.h()},l(j){t=$(j,"DIV",{class:!0});var P=I(t);e=$(P,"NAV",{class:!0});var z=I(e);r=$(z,"BUTTON",{class:!0});var de=I(r);n=q(de,"📝 Texto"),de.forEach(m),l=D(z),i=$(z,"BUTTON",{class:!0});var ae=I(i);s=q(ae,"📷 Foto"),ae.forEach(m),g=D(z),p=$(z,"BUTTON",{class:!0});var A=I(p);w=q(A,"🎤 Voz"),A.forEach(m),_=D(z),v=$(z,"BUTTON",{class:!0});var H=I(v);h=q(H,"📊 Código de Barras"),H.forEach(m),z.forEach(m),P.forEach(m),d=D(j),y&&y.l(j),E=he(),this.h()},h(){f(r,"class",u="py-2 px-1 border-b-2 font-medium text-sm "+(a[2]==="text"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")),f(i,"class",o="py-2 px-1 border-b-2 font-medium text-sm "+(a[2]==="photo"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")),f(p,"class",C="py-2 px-1 border-b-2 font-medium text-sm "+(a[2]==="voice"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")),f(v,"class",b="py-2 px-1 border-b-2 font-medium text-sm "+(a[2]==="barcode"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")),f(e,"class","-mb-px flex space-x-8"),f(t,"class","border-b border-gray-200 mb-6")},m(j,P){V(j,t,P),c(t,e),c(e,r),c(r,n),c(e,l),c(e,i),c(i,s),c(e,g),c(e,p),c(p,w),c(e,_),c(e,v),c(v,h),V(j,d,P),~x&&W[x].m(j,P),V(j,E,P),M=!0,N||(O=[se(r,"click",a[30]),se(i,"click",a[31]),se(p,"click",a[32]),se(v,"click",a[33])],N=!0)},p(j,P){(!M||P[0]&4&&u!==(u="py-2 px-1 border-b-2 font-medium text-sm "+(j[2]==="text"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")))&&f(r,"class",u),(!M||P[0]&4&&o!==(o="py-2 px-1 border-b-2 font-medium text-sm "+(j[2]==="photo"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")))&&f(i,"class",o),(!M||P[0]&4&&C!==(C="py-2 px-1 border-b-2 font-medium text-sm "+(j[2]==="voice"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")))&&f(p,"class",C),(!M||P[0]&4&&b!==(b="py-2 px-1 border-b-2 font-medium text-sm "+(j[2]==="barcode"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")))&&f(v,"class",b);let z=x;x=oe(j),x===z?~x&&W[x].p(j,P):(y&&(pe(),R(W[z],1,1,()=>{W[z]=null}),me()),~x?(y=W[x],y?y.p(j,P):(y=W[x]=le[x](j),y.c()),L(y,1),y.m(E.parentNode,E)):y=null)},i(j){M||(L(y),M=!0)},o(j){R(y),M=!1},d(j){j&&(m(t),m(d),m(E)),~x&&W[x].d(j),N=!1,Ne(O)}}}function kt(a){let t,e='<div class="flex-shrink-0"><div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"><svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div></div> <div class="flex-1"><h3 class="text-lg font-semibold text-gray-900 mb-2">Sugestões Inteligentes da IA</h3> <p class="text-gray-600 mb-4">Com base nas suas metas e preferências, a IA pode sugerir correspondências precisas para os alimentos que você registrar.</p> <div class="grid md:grid-cols-3 gap-4"><div class="bg-white rounded-lg p-3 border"><div class="flex items-center mb-2"><div class="w-2 h-2 bg-yellow-500 rounded-full mr-2"></div> <span class="text-sm font-medium">Reconhecimento Inteligente</span></div> <p class="text-xs text-gray-600">Identifica alimentos em fotos e voz</p></div> <div class="bg-white rounded-lg p-3 border"><div class="flex items-center mb-2"><div class="w-2 h-2 bg-blue-500 rounded-full mr-2"></div> <span class="text-sm font-medium">Ajuste de Macros</span></div> <p class="text-xs text-gray-600">Sugestões baseadas nas suas metas</p></div> <div class="bg-white rounded-lg p-3 border"><div class="flex items-center mb-2"><div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div> <span class="text-sm font-medium">Aprendizado Contínuo</span></div> <p class="text-xs text-gray-600">Melhora com seus hábitos</p></div></div></div>';return{c(){t=k("div"),t.innerHTML=e,this.h()},l(r){t=$(r,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-m4tfyy"&&(t.innerHTML=e),this.h()},h(){f(t,"class","flex items-start space-x-4")},m(r,n){V(r,t,n)},p:te,d(r){r&&m(t)}}}function $t(a){let t;return{c(){t=F("Buscar")},l(e){t=q(e,"Buscar")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function wt(a){let t,e="Nenhum alimento encontrado";return{c(){t=k("p"),t.textContent=e,this.h()},l(r){t=$(r,"P",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-18ajtme"&&(t.textContent=e),this.h()},h(){f(t,"class","text-center text-gray-500 py-8")},m(r,n){V(r,t,n)},p:te,i:te,o:te,d(r){r&&m(t)}}}function yt(a){let t,e,r=ge(a[13]),n=[];for(let l=0;l<r.length;l+=1)n[l]=Me(Ce(a,r,l));const u=l=>R(n[l],1,1,()=>{n[l]=null});return{c(){t=k("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){t=$(l,"DIV",{class:!0});var i=I(t);for(let s=0;s<n.length;s+=1)n[s].l(i);i.forEach(m),this.h()},h(){f(t,"class","space-y-2 max-h-64 overflow-y-auto")},m(l,i){V(l,t,i);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(t,null);e=!0},p(l,i){if(i[0]&8192){r=ge(l[13]);let s;for(s=0;s<r.length;s+=1){const o=Ce(l,r,s);n[s]?(n[s].p(o,i),L(n[s],1)):(n[s]=Me(o),n[s].c(),L(n[s],1),n[s].m(t,null))}for(pe(),s=r.length;s<n.length;s+=1)u(s);me()}},i(l){if(!e){for(let i=0;i<r.length;i+=1)L(n[i]);e=!0}},o(l){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)R(n[i]);e=!1},d(l){l&&m(t),Pe(n,l)}}}function Ct(a){let t;return{c(){t=F("Adicionar")},l(e){t=q(e,"Adicionar")},m(e,r){V(e,t,r)},d(e){e&&m(t)}}}function Me(a){let t,e,r,n=a[43].name+"",u,l,i,s=a[43].calories+"",o,g,p=a[43].unit+"",w,C,_,v,h;return _=new Z({props:{size:"sm",variant:"outline",$$slots:{default:[Ct]},$$scope:{ctx:a}}}),{c(){t=k("div"),e=k("div"),r=k("p"),u=F(n),l=T(),i=k("p"),o=F(s),g=F(" kcal por "),w=F(p),C=T(),U(_.$$.fragment),v=T(),this.h()},l(b){t=$(b,"DIV",{class:!0});var d=I(t);e=$(d,"DIV",{});var x=I(e);r=$(x,"P",{class:!0});var y=I(r);u=q(y,n),y.forEach(m),l=D(x),i=$(x,"P",{class:!0});var E=I(i);o=q(E,s),g=q(E," kcal por "),w=q(E,p),E.forEach(m),x.forEach(m),C=D(d),G(_.$$.fragment,d),v=D(d),d.forEach(m),this.h()},h(){f(r,"class","font-medium"),f(i,"class","text-sm text-gray-600"),f(t,"class","flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50")},m(b,d){V(b,t,d),c(t,e),c(e,r),c(r,u),c(e,l),c(e,i),c(i,o),c(i,g),c(i,w),c(t,C),J(_,t,null),c(t,v),h=!0},p(b,d){(!h||d[0]&8192)&&n!==(n=b[43].name+"")&&fe(u,n),(!h||d[0]&8192)&&s!==(s=b[43].calories+"")&&fe(o,s),(!h||d[0]&8192)&&p!==(p=b[43].unit+"")&&fe(w,p);const x={};d[1]&262144&&(x.$$scope={dirty:d,ctx:b}),_.$set(x)},i(b){h||(L(_.$$.fragment,b),h=!0)},o(b){R(_.$$.fragment,b),h=!1},d(b){b&&m(t),Q(_)}}}function Et(a){let t,e,r,n,u,l,i,s,o,g;function p(h){a[38](h)}let w={placeholder:"Digite para buscar alimentos...",class:"flex-1"};a[12]!==void 0&&(w.value=a[12]),r=new Ge({props:w}),Ve.push(()=>Be(r,"value",p)),r.$on("keydown",a[39]),l=new Z({props:{loading:a[14],$$slots:{default:[$t]},$$scope:{ctx:a}}}),l.$on("click",a[27]);const C=[yt,wt],_=[];function v(h,b){return h[13].length>0?0:h[12]&&!h[14]?1:-1}return~(s=v(a))&&(o=_[s]=C[s](a)),{c(){t=k("div"),e=k("div"),U(r.$$.fragment),u=T(),U(l.$$.fragment),i=T(),o&&o.c(),this.h()},l(h){t=$(h,"DIV",{class:!0});var b=I(t);e=$(b,"DIV",{class:!0});var d=I(e);G(r.$$.fragment,d),u=D(d),G(l.$$.fragment,d),d.forEach(m),i=D(b),o&&o.l(b),b.forEach(m),this.h()},h(){f(e,"class","flex space-x-2"),f(t,"class","space-y-4")},m(h,b){V(h,t,b),c(t,e),J(r,e,null),c(e,u),J(l,e,null),c(t,i),~s&&_[s].m(t,null),g=!0},p(h,b){const d={};!n&&b[0]&4096&&(n=!0,d.value=h[12],Ae(()=>n=!1)),r.$set(d);const x={};b[0]&16384&&(x.loading=h[14]),b[1]&262144&&(x.$$scope={dirty:b,ctx:h}),l.$set(x);let y=s;s=v(h),s===y?~s&&_[s].p(h,b):(o&&(pe(),R(_[y],1,1,()=>{_[y]=null}),me()),~s?(o=_[s],o?o.p(h,b):(o=_[s]=C[s](h),o.c()),L(o,1),o.m(t,null)):o=null)},i(h){g||(L(r.$$.fragment,h),L(l.$$.fragment,h),L(o),g=!0)},o(h){R(r.$$.fragment,h),R(l.$$.fragment,h),R(o),g=!1},d(h){h&&m(t),Q(r),Q(l),~s&&_[s].d()}}}function It(a){let t,e,r,n,u;const l=[Ye,Ke,Xe],i=[];function s(o,g){return o[16]?0:o[17]?2:1}return e=s(a),r=i[e]=l[e](a),{c(){t=T(),r.c(),n=he(),this.h()},l(o){Se("svelte-1qixdru",document.head).forEach(m),t=D(o),r.l(o),n=he(),this.h()},h(){document.title="Registrar Refeição - MacroFit"},m(o,g){V(o,t,g),i[e].m(o,g),V(o,n,g),u=!0},p(o,g){let p=e;e=s(o),e===p?i[e].p(o,g):(pe(),R(i[p],1,1,()=>{i[p]=null}),me(),r=i[e],r?r.p(o,g):(r=i[e]=l[e](o),r.c()),L(r,1),r.m(n.parentNode,n))},i(o){u||(L(r),u=!0)},o(o){R(r),u=!1},d(o){o&&(m(t),m(n)),i[e].d(o)}}}function xe(a){const t=Math.floor(a/60),e=a%60;return`${t}:${e.toString().padStart(2,"0")}`}function Tt(a,t,e){let r,n,u="text",l=!1,i="",s="",o="",g="breakfast",p=null,w=null,C=!1,_=!1,v=null,h=0,b=null,d="",x=[],y=!1,E=!1;const{isAuthenticated:M,isChecking:N}=Qe();$e(a,M,B=>e(17,n=B)),$e(a,N,B=>e(16,r=B));const O=new We,le=[{value:"breakfast",label:"Café da manhã",icon:"☀️"},{value:"lunch",label:"Almoço",icon:"🍽️"},{value:"dinner",label:"Jantar",icon:"🌙"},{value:"snack",label:"Lanche",icon:"🍎"}];async function W(){if(o.trim())try{e(3,l=!0),e(0,i="");const{CreateMealTextRequest:B}=await ve(()=>import("../chunks/requests.af13806e.js"),[],import.meta.url),X=new B({description:o,mealType:g});(await O.createMealFromText(X)).success&&(e(1,s="Refeição registrada com sucesso!"),e(4,o=""),setTimeout(()=>{be("/dashboard")},2e3))}catch(B){e(0,i=B.message||"Erro ao registrar refeição")}finally{e(3,l=!1)}}function oe(B){const X=B.target.files[0];if(!X)return;e(6,p=X);const Y=new FileReader;Y.onload=_e=>{e(7,w=_e.target.result)},Y.readAsDataURL(X)}async function j(){if(p)try{e(8,C=!0),e(0,i="");const{CreateMealPhotoRequest:B}=await ve(()=>import("../chunks/requests.af13806e.js"),[],import.meta.url),X=new B({imageFile:p,mealType:g});(await O.createMealFromPhoto(X)).success&&(e(1,s="Foto analisada e refeição registrada!"),e(6,p=null),e(7,w=null),setTimeout(()=>{be("/dashboard")},2e3))}catch(B){e(0,i=B.message||"Erro ao analisar foto")}finally{e(8,C=!1)}}async function P(){try{const B=await navigator.mediaDevices.getUserMedia({audio:!0}),X=new MediaRecorder(B),Y=[];X.ondataavailable=_e=>{Y.push(_e.data)},X.onstop=()=>{e(10,v=new Blob(Y,{type:"audio/wav"})),B.getTracks().forEach(_e=>_e.stop())},X.start(),e(9,_=!0),e(11,h=0),b=setInterval(()=>{e(11,h++,h)},1e3),setTimeout(()=>{_&&z()},6e4)}catch{e(0,i="Erro ao acessar microfone")}}function z(){e(9,_=!1),b&&(clearInterval(b),b=null)}async function de(){if(v)try{e(3,l=!0),e(0,i="");const{CreateMealAudioRequest:B}=await ve(()=>import("../chunks/requests.af13806e.js"),[],import.meta.url),X=new B({audioBlob:v,mealType:g});(await O.createMealFromAudio(X)).success&&(e(1,s="Áudio processado e refeição registrada!"),e(10,v=null),e(11,h=0),setTimeout(()=>{be("/dashboard")},2e3))}catch(B){e(0,i=B.message||"Erro ao processar áudio")}finally{e(3,l=!1)}}async function ae(){if(d.trim())try{e(14,y=!0);const{SearchFoodRequest:B}=await ve(()=>import("../chunks/requests.af13806e.js"),[],import.meta.url),X=new B({query:d,limit:10}),Y=await O.searchFood(X);Y.success&&e(13,x=Y.foods)}catch(B){console.error("Erro na busca:",B)}finally{e(14,y=!1)}}const A=()=>be("/dashboard"),H=B=>e(5,g=B.value),ce=()=>e(2,u="text"),ue=()=>e(2,u="photo"),re=()=>e(2,u="voice"),ee=()=>e(2,u="barcode");function K(){o=this.value,e(4,o)}const je=()=>e(15,E=!0),ze=()=>{e(6,p=null),e(7,w=null)},Le=()=>{e(10,v=null),e(11,h=0)};function He(B){d=B,e(12,d)}const Re=B=>B.key==="Enter"&&ae();function Fe(B){E=B,e(15,E)}return a.$$.update=()=>{a.$$.dirty[0]&2&&s&&setTimeout(()=>{e(1,s="")},5e3),a.$$.dirty[0]&1&&i&&setTimeout(()=>{e(0,i="")},5e3)},[i,s,u,l,o,g,p,w,C,_,v,h,d,x,y,E,r,n,M,N,le,W,oe,j,P,z,de,ae,A,H,ce,ue,re,ee,K,je,ze,Le,He,Re,Fe]}class Rt extends Oe{constructor(t){super(),Ue(this,t,Tt,It,qe,{},null,[-1,-1])}}export{Rt as component};
